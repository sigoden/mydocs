<!DOCTYPE HTML>
<html lang="zh_Hans " class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>SIGODENçš„å¼€æºé¡¹ç›®</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Projects</a></li><li class="chapter-item expanded "><a href="aichat.html"><strong aria-hidden="true">1.</strong> AIChat</a></li><li class="chapter-item expanded "><a href="apitest.html"><strong aria-hidden="true">2.</strong> Apitest</a></li><li class="chapter-item expanded "><a href="argc.html"><strong aria-hidden="true">3.</strong> Argc</a></li><li class="chapter-item expanded "><a href="dufs.html"><strong aria-hidden="true">4.</strong> Dufs</a></li><li class="chapter-item expanded "><a href="dynimgen.html"><strong aria-hidden="true">5.</strong> DynImgen</a></li><li class="chapter-item expanded "><a href="netease-music.html"><strong aria-hidden="true">6.</strong> NeteaseMusic</a></li><li class="chapter-item expanded "><a href="opscan.html"><strong aria-hidden="true">7.</strong> Opscan</a></li><li class="chapter-item expanded "><a href="projclean.html"><strong aria-hidden="true">8.</strong> ProjClean</a></li><li class="chapter-item expanded "><a href="tomato-timer.html"><strong aria-hidden="true">9.</strong> Tomato-Timer</a></li><li class="chapter-item expanded "><a href="windows-switcher.html"><strong aria-hidden="true">10.</strong> Windows-Switcher</a></li><li class="chapter-item expanded "><a href="xf.html"><strong aria-hidden="true">11.</strong> Xf</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">SIGODENçš„å¼€æºé¡¹ç›®</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/sigoden/mydocs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <ul>
<li><a href="./aichat.html">AIChat</a>: åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ GPT-3.5</li>
<li><a href="./apitest.html">Apitest</a>: æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·</li>
<li><a href="./argc.html">Argc</a>: è½»æ¾å¤„ç† shell å‘½ä»¤è¡Œå‚æ•°</li>
<li><a href="./dufs.html">Dufs</a>: ä¸€æ¬¾ç®€å•çš„æ–‡ä»¶æœåŠ¡å™¨ï¼Œ æ”¯æŒé™æ€æ–‡ä»¶ä¼ºæœã€ä¸Šä¼ ã€ä¸‹è½½ã€webdav äº‘ç›˜</li>
<li><a href="./dynimgen.html">DynImgen</a>: è‡ªæ‰˜ç®¡åŠ¨æ€å›¾ç‰‡ç”ŸæˆæœåŠ¡</li>
<li><a href="./netease-music.html">NeteaseMusic</a>: æµè§ˆå™¨æ‰©å±•ç‰ˆç½‘æ˜“äº‘éŸ³ä¹</li>
<li><a href="./opscan.html">Opscan</a>: ç”¨ Rust å¼€å‘çš„ç«¯å£æ‰«æå·¥å…·</li>
<li><a href="./projclean.html">ProjClean</a>: ä»ç³»ç»Ÿä¸­æ¸…é™¤é¡¹ç›®ä¸å¿…è¦æ–‡ä»¶ç›®å½•</li>
<li><a href="./tomato-timer.html">Tomato-Timer</a>: å‘½ä»¤è¡Œç‰ˆç•ªèŒ„é’Ÿ</li>
<li><a href="./windows-switcher.html">Windows-Switcher</a>: ç±»ä¼¼ MacOS çš„çª—å£åˆ‡æ¢å™¨</li>
<li><a href="./xf.html">Xf</a>: å¤šæ€å‘½ä»¤ï¼Œè‡ªåŠ¨è„šæœ¬åˆ«å</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="aichat-åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨-gpt-35"><a class="header" href="#aichat-åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨-gpt-35">AIChat: åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ GPT-3.5</a></h1>
<p><img src="https://user-images.githubusercontent.com/4012553/222600858-3fb60051-2bf2-4505-92ff-649356cdb1f6.gif" alt="demo" /></p>
<p>ä¼˜ç‚¹:</p>
<ul>
<li>ä¸æµè§ˆå™¨ç›¸æ¯”ï¼Œç»ˆç«¯å¯åŠ¨æ›´å¿«å¹¶ä¸”éœ€è¦çš„èµ„æºæ›´å°‘</li>
<li>æ”¯æŒä¸¤ç§æ¨¡å¼: å‘½ä»¤æ¨¡å¼å’Œäº¤äº’æ¨¡å¼</li>
<li>æ”¯æŒä»£ç†</li>
<li>é¢„å®šä¹‰è¯æœ¯æ–¹ä¾¿è§’è‰²åˆ‡æ¢</li>
<li>å†å²è®°å½•æŸ¥è¯¢/è¡¥å…¨</li>
<li>å­˜å‚¨/å¯¼å‡ºå­˜å‚¨èŠå¤©æ¶ˆæ¯</li>
<li>é‡‡ç”¨Rustç¼–å†™ï¼Œå•å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè·¨å¹³å°</li>
</ul>
<p>é¡¹ç›®ä»“åº“: <a href="https://github.com/sigoden/aichat">github.com/sigoden/aichat</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="apitest-æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·"><a class="header" href="#apitest-æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·">Apitest: æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·</a></h1>
<p>Apitest æ˜¯ä¸€æ¬¾ä½¿ç”¨ç±»JSONçš„DSLç¼–å†™æµ‹è¯•ç”¨ä¾‹çš„è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ã€‚</p>
<h2 id="å®‰è£…"><a class="header" href="#å®‰è£…">å®‰è£…</a></h2>
<p>æ¨èä»<a href="https://github.com/sigoden/apitest/releases">Github Releases</a>ä¸‹è½½å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<p>Apitestå·¥å…·æ˜¯å•å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸éœ€è¦å®‰è£…ï¼Œæ”¾åˆ°<code>PATH</code>è·¯å¾„ä¸‹é¢å°±å¯ä»¥ç›´æ¥è¿è¡Œ</p>
<pre><code># linux
curl -L -o apitest https://github.com/sigoden/apitest/releases/latest/download/apitest-linux 
chmod +x apitest
sudo mv apitest /usr/local/bin/

# macos
curl -L -o apitest https://github.com/sigoden/apitest/releases/latest/download/apitest-macos
chmod +x apitest
sudo mv apitest /usr/local/bin/

# npm
npm install -g @sigodenjs/apitest
</code></pre>
<h2 id="å¼€å§‹ä½¿ç”¨"><a class="header" href="#å¼€å§‹ä½¿ç”¨">å¼€å§‹ä½¿ç”¨</a></h2>
<p>ç¼–å†™æµ‹è¯•æ–‡ä»¶ <code>httpbin.jsona</code></p>
<pre><code>{
  test1: {
    req: {
      url: &quot;https://httpbin.org/post&quot;,
      method: &quot;post&quot;,
      headers: {
        'content-type': 'application/json',
      },
      body: {
        v1: &quot;bar1&quot;,
        v2: &quot;Bar2&quot;,
      },
    },
    res: {
      status: 200,
      body: { @partial
        json: {
          v1: &quot;bar1&quot;,
          v2: &quot;bar2&quot;
        }
      }
    }
  }
}

</code></pre>
<p>è¿è¡Œæµ‹è¯•</p>
<pre><code>apitest httpbin.jsona

main
  test1 (0.944) âœ˜
  main.test1.res.body.json.v2: bar2 â‰  Bar2

  ...
</code></pre>
<p>ç”¨ä¾‹æµ‹è¯•å¤±è´¥ï¼Œä»Apitestæ‰“å°çš„é”™è¯¯ä¿¡æ¯ä¸­å¯ä»¥çœ‹åˆ°, <code>main.test1.res.body.json.v2</code> çš„å®é™…å€¼æ˜¯ <code>Bar2</code> è€Œä¸æ˜¯ <code>bar2</code>ã€‚</p>
<p>æˆ‘ä»¬ä¿®æ”¹ <code>bar2</code> æˆ <code>Bar2</code> åï¼Œå†æ¬¡æ‰§è¡Œ Apitest</p>
<pre><code>apitest httpbin.jsona

main
  test1 (0.930) âœ”
</code></pre>
<h2 id="ç‰¹æ€§"><a class="header" href="#ç‰¹æ€§">ç‰¹æ€§</a></h2>
<h3 id="jsona-dsl"><a class="header" href="#jsona-dsl">JSONA-DSL</a></h3>
<p>ä½¿ç”¨ç±»JSONçš„DSLç¼–å†™æµ‹è¯•ã€‚æ–‡æ¡£å³æµ‹è¯•ã€‚</p>
<pre><code>{
  test1: { @describe(&quot;ç”¨æˆ·ç™»å½•&quot;)
    req: {
      url: 'http://localhost:3000/login'
      method: 'post',
      body: {
        user: 'jason',
        pass: 'a123456,
      }
    },
    res: {
      status: 200
      body: {
        user: 'jason',
        token: '', @type
        expireIn: 0, @type
      }
    }
  }
}
</code></pre>
<p>æ ¹æ®ä¸Šé¢çš„ç”¨ä¾‹ï¼Œæˆ‘ä¸ç”¨ç»†è¯´ï¼Œæœ‰ç»éªŒçš„åç«¯åº”è¯¥èƒ½çŒœå‡ºè¿™ä¸ªæ¥å£ä¼ äº†ä»€ä¹ˆå‚æ•°ï¼ŒæœåŠ¡ç«¯è¿”å›äº†ä»€ä¹ˆæ•°æ®ã€‚</p>
<p>Apitest çš„å·¥ä½œåŸç†å°±æ˜¯æ ¹æ®<code>req</code>éƒ¨åˆ†çš„æè¿°æ„é€ è¯·æ±‚ä¼ ç»™åç«¯ï¼Œæ”¶åˆ°åç«¯çš„å“åº”æ•°æ®åä¾æ®<code>res</code>éƒ¨åˆ†çš„æè¿°æ ¡éªŒæ•°æ®ã€‚</p>
<p>æ‹œæ‰˜ä¸è¦è¢«DSLå“åˆ°å•Šã€‚å…¶å®å°±æ˜¯JSONï¼Œå‡è½»äº†ä¸€äº›è¯­æ³•é™åˆ¶(ä¸å¼ºåˆ¶è¦æ±‚åŒå¼•å·ï¼Œæ”¯æŒæ³¨é‡Šç­‰)ï¼Œåªæ·»åŠ äº†ä¸€ä¸ªç‰¹æ€§ï¼šæ³¨è§£ã€‚ä¸Šé¢ä¾‹å­ä¸­çš„<code>@describe</code>,<code>@type</code>å°±æ˜¯æ³¨è§£ã€‚</p>
<p>ç‚¹å‡»<a href="https://github.com/jsona/spec">jsona/spec</a>æŸ¥çœ‹JSONAè§„èŒƒ</p>
<blockquote>
<p>é¡ºä¾¿è¯´ä¸€å¥ï¼Œæœ‰æ¬¾vscodeæ’ä»¶æä¾›äº†DSL(jsona)æ ¼å¼çš„æ”¯æŒå“¦ã€‚</p>
</blockquote>
<p>ä¸ºä»€ä¹ˆä½¿ç”¨JSONAï¼Ÿ</p>
<p>æ¥å£æµ‹è¯•çš„æœ¬è´¨çš„å°±æ˜¯æ„é€ å¹¶å‘é€<code>req</code>æ•°æ®ï¼Œæ¥æ”¶å¹¶æ ¡éªŒ<code>res</code>æ•°æ®ã€‚æ•°æ®å³æ˜¯ä¸»ä½“åˆæ˜¯æ ¸å¿ƒï¼Œè€ŒJSONæ˜¯æœ€å¯è¯»æœ€é€šç”¨çš„æ•°æ®æè¿°æ ¼å¼ã€‚
æ¥å£æµ‹è¯•è¿˜éœ€è¦æŸäº›ç‰¹å®šé€»è¾‘ã€‚æ¯”å¦‚è¯·æ±‚ä¸­æ„é€ éšæœºæ•°ï¼Œåœ¨å“åº”ä¸­åªæ ¡éªŒç»™å‡ºçš„éƒ¨åˆ†æ•°æ®ã€‚</p>
<p>JSONA = JSON + Annotation(æ³¨è§£)ã€‚JSONè´Ÿè´£æ•°æ®éƒ¨åˆ†ï¼Œæ³¨è§£è´Ÿè´£é€»è¾‘éƒ¨åˆ†ã€‚å®Œç¾çš„è´´åˆæ¥å£æµ‹è¯•éœ€æ±‚ã€‚</p>
<h3 id="æ•°æ®å³æ–­è¨€"><a class="header" href="#æ•°æ®å³æ–­è¨€">æ•°æ®å³æ–­è¨€</a></h3>
<p>è¿™å¥è¯æœ‰ç‚¹ç»•ï¼Œä¸‹é¢ä¸¾ä¾‹è¯´æ˜ä¸‹ã€‚</p>
<pre><code class="language-json">{
  &quot;foo1&quot;: 3,
  &quot;foo2&quot;: [&quot;a&quot;, &quot;b&quot;],
  &quot;foo3&quot;: {
    &quot;a&quot;: 3,
    &quot;b&quot;: 4
  }
}
</code></pre>
<p>å‡è®¾æ¥å£å“åº”æ•°æ®å¦‚ä¸Šï¼Œé‚£ä¹ˆå…¶æµ‹è¯•ç”¨ä¾‹å¦‚ä¸‹:</p>
<pre><code>{
  test1: {
    req: {
    },
    res: {
      body: {
        &quot;foo1&quot;: 3,
        &quot;foo2&quot;: [&quot;a&quot;, &quot;b&quot;],
        &quot;foo3&quot;: {
          &quot;a&quot;: 3,
          &quot;b&quot;: 4
        }
      }
    }
  }
}
</code></pre>
<p>æ²¡é”™ï¼Œå°±æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚Apitest ä¼šå¯¹æ•°æ®çš„å„ä¸ªéƒ¨åˆ†é€ä¸€è¿›è¡Œæ¯”å¯¹ã€‚æœ‰ä»»ä½•ä¸ä¸€è‡´çš„åœ°æ–¹éƒ½ä¼šå¯¼è‡´æµ‹è¯•ä¸é€šè¿‡ã€‚</p>
<p>å¸¸è§„çš„æµ‹è¯•å·¥å…·æä¾›çš„ç­–ç•¥æ˜¯åšåŠ æ³•ï¼Œè¿™ä¸ªå¾ˆé‡è¦æˆ‘æ‰åŠ ä¸€å¥æ–­è¨€ã€‚è€Œåœ¨ Apitest ä¸­ï¼Œä½ åªèƒ½åšå‡æ³•ï¼Œè¿™ä¸ªæ•°æ®ä¸å…³æ³¨æˆ‘ä¸»åŠ¨å¿½ç•¥æˆ–æ”¾æ¾æ ¡éªŒã€‚</p>
<p>æ¯”å¦‚å‰é¢çš„ç”¨ä¾‹</p>
<pre><code>{
  test1: { @describe(&quot;ç”¨æˆ·ç™»å½•&quot;)
    ...
    res: {
      body: {
        user: 'jason',
        token: '', @type
        expireIn: 0, @type
      }
    }
  }
}
</code></pre>
<p>æˆ‘ä»¬è¿˜æ˜¯æ ¡éªŒäº†æ‰€æœ‰çš„å­—æ®µã€‚å› ä¸º<code>token</code>å’Œ<code>expireIn</code>å€¼æ˜¯å˜çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>@type</code>å‘Šè¯‰ Apitest åªæ ¡éªŒå­—æ®µçš„ç±»å‹ï¼Œè€Œå¿½ç•¥å…·ä½“çš„å€¼ã€‚</p>
<h3 id="æ•°æ®å¯è®¿é—®"><a class="header" href="#æ•°æ®å¯è®¿é—®">æ•°æ®å¯è®¿é—®</a></h3>
<p>åé¢çš„æµ‹è¯•ç”¨ä¾‹å¾ˆå®¹æ˜“åœ°ä½¿ç”¨å‰é¢æµ‹è¯•ç”¨ä¾‹çš„æ•°æ®ã€‚</p>
<pre><code>{
  test1: { @describe(&quot;ç™»å½•&quot;)
    ...
    res: {
      body: {
        token: '', @type
      }
    }
  },
  test2: { @describe(&quot;å‘å¸ƒæ–‡ç« &quot;)
    req: {
      headers: {
        authorization: `&quot;Bearer &quot; + test1.res.body.token`, @eval // æ­¤å¤„è®¿é—®äº†å‰é¢æµ‹è¯•ç”¨ä¾‹ test1 çš„å“åº”æ•°æ®
      },
    }
  }
}
</code></pre>
<h3 id="æ”¯æŒmock"><a class="header" href="#æ”¯æŒmock">æ”¯æŒMock</a></h3>
<p>æœ‰äº†Mock, ä»æ­¤ä¸å†çº ç»“ç¼–é€ æ•°æ®ã€‚</p>
<h3 id="æ”¯æŒmixin"><a class="header" href="#æ”¯æŒmixin">æ”¯æŒMixin</a></h3>
<p>å·§ç”¨ Mixinï¼Œæ‘†è„±å¤åˆ¶ç²˜è´´ã€‚</p>
<h3 id="æ”¯æŒci"><a class="header" href="#æ”¯æŒci">æ”¯æŒCI</a></h3>
<p>æœ¬èº«ä½œä¸ºä¸€æ¬¾å‘½ä»¤è¡Œå·¥å…·ï¼Œå°±ååˆ†å®¹æ˜“å’Œåç«¯çš„cié›†æˆåœ¨ä¸€èµ·ã€‚è€Œä¸” apitest è¿˜æä¾›äº†<code>--ci</code>é€‰é¡¹ä¸“é—¨å°±ciåšäº†ä¼˜åŒ–ã€‚</p>
<h3 id="æ”¯æŒtdd"><a class="header" href="#æ”¯æŒtdd">æ”¯æŒTDD</a></h3>
<p>ç”¨ä¾‹å°±æ˜¯jsonï¼Œæ‰€æœ‰ä½ å¯ä»¥åˆ†åˆ†é’Ÿç¼–å†™ï¼Œè¿™å°±ååˆ†æœ‰åˆ©äº tdd äº†ã€‚</p>
<p>ä½ ç”šè‡³å¯ä»¥åªå†™ <code>req</code> éƒ¨åˆ†ï¼Œæ¥å£æœ‰å“åº”åå†æŠŠå“åº”æ•°æ®ç›´æ¥è´´è¿‡æ¥ä½œä¸º <code>res</code> éƒ¨åˆ†ã€‚ç»éªŒä¹‹è°ˆ ğŸ¶</p>
<p>é»˜è®¤æ¨¡å¼ä¸‹(éci)ï¼Œå½“ Apitest ç¢°åˆ°å¤±è´¥çš„æµ‹è¯•ä¼šæ‰“å°é”™è¯¯å¹¶é€€å‡ºã€‚ Apitest æœ‰ç¼“å­˜æµ‹è¯•æ•°æ®ï¼Œä½ å¯ä»¥ä¸åœé‡å¤æ‰§è¡Œé”™è¯¯çš„ç”¨ä¾‹ï¼Œè¾¹å¼€å‘è¾¹æµ‹è¯•ï¼Œ ç›´åˆ°èµ°é€šæ‰è¿›å…¥åç»­çš„æµ‹è¯•ã€‚</p>
<p>åŒæ—¶ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡ <code>--only</code> é€‰é¡¹é€‰æ‹©æŸä¸ªæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œã€‚</p>
<h3 id="æ”¯æŒç”¨æˆ·å®šä¹‰å‡½æ•°"><a class="header" href="#æ”¯æŒç”¨æˆ·å®šä¹‰å‡½æ•°">æ”¯æŒç”¨æˆ·å®šä¹‰å‡½æ•°</a></h3>
<p>è¿™ä¸ªåŠŸèƒ½ä½ æ ¹æœ¬ä¸éœ€è¦ç”¨åˆ°ã€‚ä½†æˆ‘è¿˜æ˜¯æ‹…å¿ƒåœ¨æŸäº›æé™æˆ–è¾¹è§’çš„åœºæ™¯ä¸‹éœ€è¦ï¼Œæ‰€ä»¥è¿˜æ˜¯æ”¯æŒäº†ã€‚</p>
<p>Apitest å…è®¸ç”¨æˆ·é€šè¿‡ js ç¼–å†™ç”¨æˆ·å®šä¹‰å‡½æ•°æ„é€ è¯·æ±‚æ•°æ®æˆ–æ ¡éªŒå“åº”æ•°æ®ã€‚(è¿˜æ•¢å·ç§°è·¨ç¼–ç¨‹è¯­è¨€å—ï¼ŸğŸ¶) </p>
<h3 id="è·³è¿‡å»¶æ—¶é‡è¯•å’Œå¾ªç¯"><a class="header" href="#è·³è¿‡å»¶æ—¶é‡è¯•å’Œå¾ªç¯">è·³è¿‡,å»¶æ—¶,é‡è¯•å’Œå¾ªç¯</a></h3>
<h3 id="æ”¯æŒformæ–‡ä»¶ä¸Šä¼ graphql"><a class="header" href="#æ”¯æŒformæ–‡ä»¶ä¸Šä¼ graphql">æ”¯æŒForm,æ–‡ä»¶ä¸Šä¼ ,GraphQL</a></h3>
<h2 id="åè®°"><a class="header" href="#åè®°">åè®°</a></h2>
<p>é¡¹ç›®ä»“åº“: <a href="https://github.com/sigoden/apitest">github.com/sigoden/apitest</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="argc-è½»æ¾å¤„ç†-shell-å‘½ä»¤è¡Œå‚æ•°"><a class="header" href="#argc-è½»æ¾å¤„ç†-shell-å‘½ä»¤è¡Œå‚æ•°">Argc: è½»æ¾å¤„ç† shell å‘½ä»¤è¡Œå‚æ•°</a></h1>
<p>Argc æ˜¯ä¸€æ¬¾å¯ä»¥è½»æ¾å¤„ç† shell å‘½ä»¤è¡Œå‚æ•°çš„å‘½ä»¤è¡Œå·¥å…·</p>
<p><img src="https://user-images.githubusercontent.com/4012553/158063004-e7a3534c-eb1a-47fb-9bbd-89a49345589a.gif" alt="demo" /></p>
<p>ä½¿ç”¨ Argc ç¼–å†™å‘½ä»¤è¡Œç¨‹åºï¼Œæˆ‘ä»¬åªéœ€è¦åšä¸¤ä»¶äº‹æƒ…:</p>
<ol>
<li>åœ¨æ³¨é‡Šä¸­æè¿°æˆ‘ä»¬éœ€è¦çš„é€‰é¡¹ï¼Œå‚æ•°ï¼Œå­å‘½ä»¤</li>
<li>è°ƒç”¨å¦‚ä¸‹å‘½ä»¤å§”æ‰˜ Argc æ›¿æˆ‘ä»¬å¤„ç†å‘½ä»¤è¡Œå‚æ•°</li>
</ol>
<pre><code class="language-sh">eval &quot;(argc $0 &quot;$@&quot;)&quot;
</code></pre>
<p>Argc ä¼šä¸ºæˆ‘ä»¬åšå¦‚ä¸‹å·¥ä½œ:</p>
<ol>
<li>ä»æ³¨é‡Šä¸­æå–å‚æ•°å®šä¹‰</li>
<li>è§£æå‘½ä»¤è¡Œå‚æ•°</li>
<li>å¦‚æœå‚æ•°æœ‰å¼‚å¸¸ï¼Œè¾“å‡ºé”™è¯¯æ–‡æœ¬æˆ–å¸®åŠ©ä¿¡æ¯</li>
<li>å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œè¾“å‡ºè§£æå¥½çš„å‚æ•°å˜é‡</li>
<li>å¦‚æœæœ‰å­å‘½ä»¤ï¼Œè°ƒç”¨å­å‘½ä»¤å‡½æ•°</li>
</ol>
<p>æˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾åœ°é€šè¿‡å˜é‡ <code>$argc_&lt;é€‰é¡¹å/å‚æ•°å&gt;</code> è®¿é—®å¯¹åº”é€‰é¡¹æˆ–å‚æ•°ã€‚</p>
<h2 id="æ ‡ç­¾"><a class="header" href="#æ ‡ç­¾">æ ‡ç­¾</a></h2>
<p>Argc ä¾æ®æ ¹æ®æ ‡ç­¾ (æ³¨é‡Šä¸­å¸¦<code>@</code>æ ‡è®°å­—æ®µ) ç”Ÿæˆè§£æè§„åˆ™å’Œå¸®åŠ©æ–‡æ¡£ã€‚</p>
<h3 id="describe"><a class="header" href="#describe">@describe</a></h3>
<pre><code class="language-sh">@describe [string]

# @describe A demo cli
</code></pre>
<p>å®šä¹‰æè¿°</p>
<h3 id="version"><a class="header" href="#version">@version</a></h3>
<pre><code class="language-sh">@version [string]

# @version 2.17.1 
</code></pre>
<p>å®šä¹‰ç‰ˆæœ¬</p>
<h3 id="author"><a class="header" href="#author">@author</a></h3>
<pre><code class="language-sh">@author [string]

# @author nobody &lt;nobody@example.com&gt;
</code></pre>
<p>å®šä¹‰ä½œè€…</p>
<h3 id="help"><a class="header" href="#help">@help</a></h3>
<pre><code class="language-sh">@help [false|string]

# @help false   
# @help Print help information
</code></pre>
<p>è‡ªå®šä¹‰å¸®åŠ©å­å‘½ä»¤</p>
<ol>
<li><code># @help false</code> ä¸ç”Ÿæˆå¸®åŠ©å­å‘½ä»¤</li>
<li><code># @help Print help information</code> è‡ªå®šä¹‰å¸®åŠ©å­å‘½ä»¤æè¿°ä¿¡æ¯</li>
</ol>
<h3 id="cmd"><a class="header" href="#cmd">@cmd</a></h3>
<pre><code class="language-sh">@cmd [string]

# @cmd Upload a file
upload() {
}

# @cmd Download a file
download() {
}
</code></pre>
<p>å®šä¹‰å­å‘½ä»¤</p>
<h3 id="option"><a class="header" href="#option">@option</a></h3>
<pre><code class="language-sh"># @cmd [short] [long][modifier] [notation] [string]

# @option    --foo                A option
# @option -f --foo                A option with short alias
# @option    --foo &lt;PATH&gt;         A option with notation
# @option    --foo!               A required option
# @option    --foo*               A option with multiple values
# @option    --foo+               A required option with multiple values
# @option    --foo[a|b]           A option with choices
# @option    --foo[=a|b]          A option with choices and default value
# @option    --foo![a|b]          A required option with choices
# @option -f --foo &lt;PATH&gt;         A option with short alias and notation
</code></pre>
<p>å®šä¹‰å€¼é€‰é¡¹</p>
<h4 id="ä¿®é¥°ç¬¦"><a class="header" href="#ä¿®é¥°ç¬¦">ä¿®é¥°ç¬¦</a></h4>
<p>é•¿é€‰é¡¹ååé¢å¸¦çš„ç¬¦å·å°±æ˜¯ä¿®é¥°ç¬¦</p>
<ul>
<li><code>*</code>: é€‰é¡¹å¯é€‰ï¼Œå¯æœ‰å¤šä¸ªå€¼</li>
<li><code>+</code>: é€‰é¡¹å¿…é€‰ï¼Œå¯æœ‰å¤šä¸ªå€¼</li>
<li><code>!</code>: é€‰é¡¹å¿…é€‰</li>
<li><code>=value</code>: é€‰é¡¹å¸¦æœ‰é»˜è®¤å€¼</li>
<li><code>[a|b|c]</code>: é€‰é¡¹å¯é€‰é¡¹é›†åˆ</li>
<li><code>[=a|b|c]</code>: é€‰é¡¹å¯é€‰é¡¹é›†åˆï¼Œç¬¬ä¸€ä¸ªå¯é€‰é¡¹æ˜¯é»˜è®¤å€¼</li>
</ul>
<h4 id="å€¼å ä½"><a class="header" href="#å€¼å ä½">å€¼å ä½</a></h4>
<p>ç”¨æ¥æ ‡ç¤ºè¯¥é€‰é¡¹æ˜¯ä¸ªå€¼é€‰é¡¹ï¼Œè€Œä¸æ˜¯æ ‡å¿—ä½ã€‚</p>
<p>å¦‚æœä¸æä¾›ï¼Œé»˜è®¤ä½¿ç”¨é€‰é¡¹åä½œä¸ºå ä½ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨å ä½æç¤ºé€‰é¡¹å€¼ç±»å‹ <code>&lt;NUM&gt;</code>, <code>&lt;PATH&gt;</code>, <code>&lt;PATTERN&gt;</code>, <code>&lt;DATE&gt;</code></p>
<h3 id="flag"><a class="header" href="#flag">@flag</a></h3>
<pre><code class="language-sh">@flag [short] [long] [help string]

# @flag     --foo       A flag
# @flag  -f --foo       A flag with short alias
</code></pre>
<p>å®šä¹‰æ ‡å¿—é€‰é¡¹</p>
<h3 id="arg"><a class="header" href="#arg">@arg</a></h3>
<pre><code class="language-sh">@arg &lt;name&gt;[modifier] [help string]

# @arg value            A positional argument
# @arg value!           A required positional argument
# @arg value*           A positional argument support multiple values
# @arg value+           A required positional argument support multiple values
# @arg value[a|b]       A positional argument with choices
# @arg value[=a|b]      A positional argument with choices and default value
# @arg value![a|b]      A required positional argument with choices
</code></pre>
<p>å®šä¹‰ä½ç½®å‚æ•°</p>
<h4 id="ä¿®é¥°ç¬¦-1"><a class="header" href="#ä¿®é¥°ç¬¦-1">ä¿®é¥°ç¬¦</a></h4>
<p>åŒ<a href="argc.html#%E4%BF%AE%E9%A5%B0%E7%AC%A6">optionä¿®é¥°ç¬¦</a></p>
<h2 id="å…¶ä»–"><a class="header" href="#å…¶ä»–">å…¶ä»–</a></h2>
<p><a href="https://github.com/sigoden/argc">https://github.com/sigoden/argc</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dufs-ä¸€æ¬¾ç®€å•çš„æ–‡ä»¶æœåŠ¡å™¨-æ”¯æŒé™æ€æ–‡ä»¶ä¼ºæœä¸Šä¼ ä¸‹è½½webdav-äº‘ç›˜"><a class="header" href="#dufs-ä¸€æ¬¾ç®€å•çš„æ–‡ä»¶æœåŠ¡å™¨-æ”¯æŒé™æ€æ–‡ä»¶ä¼ºæœä¸Šä¼ ä¸‹è½½webdav-äº‘ç›˜">Dufs: ä¸€æ¬¾ç®€å•çš„æ–‡ä»¶æœåŠ¡å™¨ï¼Œ æ”¯æŒé™æ€æ–‡ä»¶ä¼ºæœã€ä¸Šä¼ ã€ä¸‹è½½ã€webdav äº‘ç›˜</a></h1>
<p>Dufs æ˜¯ä¸€æ¬¾å®ç”¨æ–‡ä»¶æœåŠ¡å™¨ï¼Œæ”¯æŒé™æ€æ–‡ä»¶æœåŠ¡ã€ä¸Šä¼ ã€æœç´ ã€è®¿é—®æ§åˆ¶ã€webdaväº‘ç›˜...</p>
<p><img src="https://user-images.githubusercontent.com/4012553/220513063-ff0f186b-ac54-4682-9af4-47a9781dee0d.png" alt="demo" /></p>
<h2 id="ç‰¹æ€§-1"><a class="header" href="#ç‰¹æ€§-1">ç‰¹æ€§</a></h2>
<ul>
<li>é™æ€æ–‡ä»¶æœåŠ¡</li>
<li>ä¸‹è½½ç›®å½•ä¸ºzipæ–‡ä»¶</li>
<li>ä¸Šä¼ æ–‡ä»¶/ç›®å½• (æ”¯æŒæ‹–æ‹½)</li>
<li>æœç´¢æ–‡ä»¶</li>
<li>å¹¶å‘ä¸‹è½½ï¼Œæ–­ç»­ä¸‹è½½</li>
<li>è·¯å¾„çº§åˆ«çš„è®¿é—®æ§åˆ¶</li>
<li>æ”¯æŒhttps</li>
<li>æ”¯æŒwebdav</li>
<li>æ–¹ä¾¿curlè°ƒç”¨</li>
</ul>
<p><em>Rustç¼–å†™ï¼Œå•å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè·¨å¹³å°</em></p>
<h2 id="å…¶ä»–-1"><a class="header" href="#å…¶ä»–-1">å…¶ä»–</a></h2>
<p><a href="https://github.com/sigoden/dufs">https://github.com/sigoden/dufs</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dynimgen-è‡ªæ‰˜ç®¡åŠ¨æ€å›¾ç‰‡ç”ŸæˆæœåŠ¡"><a class="header" href="#dynimgen-è‡ªæ‰˜ç®¡åŠ¨æ€å›¾ç‰‡ç”ŸæˆæœåŠ¡">DynImgen: è‡ªæ‰˜ç®¡åŠ¨æ€å›¾ç‰‡ç”ŸæˆæœåŠ¡</a></h1>
<p>DynImgen æ˜¯ä¸€æ¬¾è‡ªæ‰˜ç®¡åŠ¨æ€å›¾ç‰‡ç”ŸæˆæœåŠ¡ï¼Œç”¨æ¥ç”Ÿæˆé‚€è¯·æµ·æŠ¥ï¼Œåˆ†äº«å›¾ç‰‡ï¼Œç”¨æˆ·åç‰‡ç­‰ã€‚</p>
<p><img src="https://user-images.githubusercontent.com/4012553/172307949-8e739dcd-e322-44d7-8f29-6dd9aec87d71.gif" alt="demo" /></p>
<h2 id="ä½¿ç”¨æ­¥éª¤"><a class="header" href="#ä½¿ç”¨æ­¥éª¤">ä½¿ç”¨æ­¥éª¤</a></h2>
<ol>
<li>è®¾è®¡å¸ˆå¯¼å‡ºè®¾è®¡å›¾ä¸ºsvgæ–‡ä»¶</li>
</ol>
<pre><code class="language-svg">&lt;svg&gt;
  &lt;rect /&gt;
  &lt;image src=&quot;img.png&quot; /&gt; 
  &lt;image src=&quot;qr.png&quot; /&gt;
  &lt;text&gt;66666&lt;/text&gt;
&lt;/svg&gt;
</code></pre>
<ol start="2">
<li>å·¥ç¨‹å¸ˆç¼–è¾‘svgæ–‡ä»¶ï¼ŒæŠŠå˜åŠ¨çš„éƒ¨åˆ†ç”¨æ¨¡æ¿å˜é‡æ›¿ä»£</li>
</ol>
<pre><code class="language-svg">&lt;svg&gt;
  &lt;rect /&gt;
  &lt;img src=&quot;{{ img | fetch }}&quot;&gt;
  &lt;img src=&quot;{{ qr | to_qr }}&quot;&gt;
  &lt;text&gt;{{ code }}&lt;/text&gt;
&lt;/svg&gt;
</code></pre>
<ol start="3">
<li>è¿è¡Œ <code>dynimgen</code>ï¼Œå¿…é¡»ç¡®ä¿svgæ¨¡æ¿åœ¨ <code>dynimgen</code> å·¥ä½œç›®å½•ä¸‹ã€‚</li>
</ol>
<pre><code class="language-sh">$ ls data
Times New Roman.ttf   poster1.svg

$ dynimgen data/
[2022-06-05T14:51:53Z INFO  dynimgen::generator] Mount `/poster1`
[2022-06-05T14:51:53Z INFO  dynimgen] Listen on 0.0.0.0:8080
</code></pre>
<ol start="4">
<li>æŒ‰ç…§å¦‚ä¸‹è§„åˆ™æ„å»ºå›¾ç‰‡åœ°å€</li>
</ol>
<pre><code>&lt;åŸŸå&gt; + &lt;æ¨¡æ¿æ–‡ä»¶è·¯å¾„&gt; + ? + &lt;æ¨¡æ¿å˜é‡&gt;
</code></pre>
<p>ä¾‹å¦‚,</p>
<ul>
<li>åŸŸå: http://localhost:8080</li>
<li>æ¨¡æ¿æ–‡ä»¶è·¯å¾„: /poster1</li>
<li>æ¨¡æ¿å˜é‡: { img: &quot;https://picsum.photos/250&quot;, qr: &quot;dynimgen&quot;, code: 12345 }</li>
</ul>
<p>ç»„æˆé“¾æ¥:</p>
<p>http://localhost:8080/poster1?img=https://picsum.photos/250&amp;qr=dynimgen&amp;code=12345</p>
<p>è®¿é—®è¯¥é“¾æ¥ï¼Œä½ ä¼šå¾—åˆ°ä¸€å¼ PNGå›¾ç‰‡ã€‚</p>
<p><code>dynimgen</code> åšäº†ä»€ä¹ˆï¼š</p>
<ol>
<li>è¯·æ±‚è·¯å¾„ä¸­æå–æ¨¡æ¿æ–‡ä»¶è·¯å¾„å’Œå˜é‡æ•°æ®</li>
<li>å°†å˜é‡ä¼ é€’çµ¦æ¨¡æ¿å¼•æ“ç”Ÿæˆæ–°çš„svgæ–‡ä»¶</li>
<li>æ¸²æŸ“svgæ–‡ä»¶ä¸ºpngæ–‡ä»¶ï¼Œè¿”å›å›¾ç‰‡</li>
</ol>
<h2 id="æ–¹æ¡ˆä¼˜åŠ¿"><a class="header" href="#æ–¹æ¡ˆä¼˜åŠ¿">æ–¹æ¡ˆä¼˜åŠ¿</a></h2>
<h3 id="æœåŠ¡ç«¯æ¸²æŸ“ä¼˜åŠ¿"><a class="header" href="#æœåŠ¡ç«¯æ¸²æŸ“ä¼˜åŠ¿">æœåŠ¡ç«¯æ¸²æŸ“ä¼˜åŠ¿</a></h3>
<ul>
<li>æ²¡æœ‰æµè§ˆå™¨å…¼å®¹ï¼Œå¹³å°å…¼å®¹ç­‰é—®é¢˜</li>
<li>ä»£ç å¤ç”¨æ€§é«˜ï¼Œh5ã€å°ç¨‹åºã€appçš„ç”Ÿæˆæµ·æŠ¥æœåŠ¡éƒ½å¯ä»¥ä½¿ç”¨ã€‚</li>
<li>èƒ½å¤ŸåŠæ—¶æ–¹ä¾¿çš„æ›´æ–°</li>
</ul>
<h3 id="svgæ¨¡æ¿ä¼˜åŠ¿"><a class="header" href="#svgæ¨¡æ¿ä¼˜åŠ¿">SVGæ¨¡æ¿ä¼˜åŠ¿</a></h3>
<ul>
<li>ç›´æ¥ä»PS/AIç­‰è®¾è®¡è½¯ä»¶å¯¼å‡ºSVG</li>
<li>ä¸éœ€è¦ç”¨html/canvas/dslé‡ç°å®ç°ä¸€é</li>
<li>æ— æŸè¿˜åŸè®¾è®¡ç¨¿ï¼Œä¸ä¸¢å¤±ä»»ä½•ç»†èŠ‚</li>
<li>è‡ªç”±ä½¿ç”¨å­—ä½“æ ·å¼</li>
</ul>
<h3 id="rustä¼˜åŠ¿"><a class="header" href="#rustä¼˜åŠ¿">RUSTä¼˜åŠ¿</a></h3>
<ul>
<li>é«˜æ€§èƒ½ï¼Œé«˜å¹¶å‘</li>
<li>å•å¯æ‰§è¡Œç¨‹åºï¼Œè·¨å¹³å°ï¼Œæ˜“éƒ¨ç½²</li>
</ul>
<h2 id="å…¶ä»–-2"><a class="header" href="#å…¶ä»–-2">å…¶ä»–</a></h2>
<p><a href="https://github.com/sigoden/dynimgen">https://github.com/sigoden/dynimgen</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="neteasemusic-æµè§ˆå™¨æ‰©å±•ç‰ˆç½‘æ˜“äº‘éŸ³ä¹"><a class="header" href="#neteasemusic-æµè§ˆå™¨æ‰©å±•ç‰ˆç½‘æ˜“äº‘éŸ³ä¹">NeteaseMusic: æµè§ˆå™¨æ‰©å±•ç‰ˆç½‘æ˜“äº‘éŸ³ä¹</a></h1>
<p><img src="https://user-images.githubusercontent.com/4012553/140094889-71088388-7d10-47b2-8e2d-3c306dc0160f.png" alt="åº”ç”¨æˆªå›¾" /></p>
<h2 id="åŠŸèƒ½"><a class="header" href="#åŠŸèƒ½">åŠŸèƒ½</a></h2>
<ul>
<li>æ— æŸéŸ³è´¨æ’­æ”¾</li>
<li>æ”¶è—/å–æ¶ˆæ”¶è—æ­Œæ›²</li>
<li>æ’è¡Œæ¦œ</li>
<li>æ–°æ­Œé€Ÿé€’</li>
<li>æ¯æ—¥æ¨è</li>
<li>ç²¾é€‰æ­Œå•</li>
<li>éŸ³ä¹äº‘ç›˜</li>
<li>ç§äººæ­Œå•</li>
</ul>
<p><a href="https://github.com/sigoden/netease-music-crx">https://github.com/sigoden/netease-music-crx</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="opscan-ç”¨-rust-å¼€å‘çš„ç«¯å£æ‰«æå·¥å…·"><a class="header" href="#opscan-ç”¨-rust-å¼€å‘çš„ç«¯å£æ‰«æå·¥å…·">Opscan: ç”¨ Rust å¼€å‘çš„ç«¯å£æ‰«æå·¥å…·</a></h1>
<h2 id="ç‰¹æ€§-2"><a class="header" href="#ç‰¹æ€§-2">ç‰¹æ€§</a></h2>
<ul>
<li>å¿«, 1ç§’æ‰«æ6ä¸‡ä¸ªç«¯å£</li>
<li>ç®€æ´ï¼Œæ‰«ä¸€çœ¼å°±ä¼šä½¿ç”¨</li>
<li>æ˜“å®‰è£…ï¼Œæä¾›å…¨å¹³å°å•å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ— éœ€å®‰è£…ä¸‹è½½å³ç”¨</li>
</ul>
<h2 id="ç¤ºä¾‹"><a class="header" href="#ç¤ºä¾‹">ç¤ºä¾‹</a></h2>
<p>åˆ—å‡ºæ‰€æœ‰æœ¬åœ°ç›‘å¬ç«¯å£:</p>
<pre><code>$ opscan
127.0.0.1 22    ssh
127.0.0.1 631   ipp
127.0.0.1 12345 netbus
127.0.0.1 40559 unknown
</code></pre>
<p>æµ‹è¯•æŸä¸ªç«¯å£æ˜¯å¦ç•…é€š:</p>
<pre><code>$ opscan www.baidu.com -p 80
www.baidu.com 80   http

$ opscan www.baidu.com -p 81
</code></pre>
<p>åˆ—å‡ºå±€åŸŸç½‘å†…å¼€æ”¾äº†æŸä¸ªç«¯å£çš„åœ°å€:</p>
<pre><code>$ opscan 192.168.8 -p 22
192.168.8.5   22 ssh
192.168.8.4   22 ssh
</code></pre>
<p>æ‰«æç½‘ç«™çš„ Top-N ç«¯å£:</p>
<pre><code>opscan scanme.nmap.org -p top100
opscan scanme.nmap.org -p top666
</code></pre>
<p>ä½¿ç”¨ Docker:</p>
<pre><code>docker run --rm -it sigoden/opscan opscan.nmap.org
</code></pre>
<p>è¯¦è§ <a href="https://github.com/sigoden/opscan">https://github.com/sigoden/opscan</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="projclean-ä»ç³»ç»Ÿä¸­æ¸…é™¤é¡¹ç›®ä¸å¿…è¦æ–‡ä»¶ç›®å½•"><a class="header" href="#projclean-ä»ç³»ç»Ÿä¸­æ¸…é™¤é¡¹ç›®ä¸å¿…è¦æ–‡ä»¶ç›®å½•">ProjClean: ä»ç³»ç»Ÿä¸­æ¸…é™¤é¡¹ç›®ä¸å¿…è¦æ–‡ä»¶ç›®å½•</a></h1>
<p>ä»ç³»ç»Ÿä¸­æ¸…é™¤æ¸…ç†å¹¶åˆ é™¤åŒ…å«åº“ã€ä¾èµ–é¡¹ã€æ„å»ºç­‰çš„ä¸å¿…è¦ç›®å½•ã€‚è¿™äº›æ–‡ä»¶å¯ä»¥éšæ—¶é€šè¿‡è¿è¡Œå®‰è£…æˆ–æ„å»ºå‘½ä»¤è½»æ¾é‡æ–°ç”Ÿæˆï¼Œæ¸…ç†å®ƒä»¬å¯ä»¥èŠ‚çœç£ç›˜ç©ºé—´ï¼Œä¾‹å¦‚ Rust é¡¹ç›®ä¸­çš„ target ç›®å½•å’Œ Node é¡¹ç›®ä¸­çš„ node_modules ç›®å½•ã€‚</p>
<p><img src="https://user-images.githubusercontent.com/4012553/172361654-5fa36424-10da-4c52-b84a-f44c27cb1a17.gif" alt="screenshot" /></p>
<h2 id="å‘½ä»¤è¡Œ"><a class="header" href="#å‘½ä»¤è¡Œ">å‘½ä»¤è¡Œ</a></h2>
<pre><code>USAGE:
    projclean [OPTIONS] [--] [PATH]

ARGS:
    &lt;PATH&gt;    Start searching from

OPTIONS:
    -h, --help              Print help information
    -r, --rule &lt;RULE&gt;...    Add a search rule
    -t, --targets           Print found target
    -V, --version           Print version information
</code></pre>
<p>æŸ¥æ‰¾ node_modules æ–‡ä»¶å¤¹</p>
<pre><code>projclean -r node_modules
</code></pre>
<p>ä» $HOME å¼€å§‹æŸ¥æ‰¾ node_modules æ–‡ä»¶å¤¹</p>
<pre><code>projclean $HOME -r node_modules
</code></pre>
<p>åŒæ—¶æŸ¥æ‰¾ node_moduels æ–‡ä»¶å¤¹ å’Œ rust é¡¹ç›®çš„ target æ–‡ä»¶å¤¹</p>
<pre><code>projclean $HOME -r node_modules -r target@Cargo.toml
</code></pre>
<h2 id="è§„åˆ™"><a class="header" href="#è§„åˆ™">è§„åˆ™</a></h2>
<p>Projclean æ ¹æ®æœç´¢è§„åˆ™æŸ¥æ‰¾ç›®æ ‡ã€‚</p>
<p>è§„åˆ™ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p>
<pre><code>&lt;target-folder&gt;[@flag-file]
</code></pre>
<blockquote>
<p>ç›®æ ‡æ–‡ä»¶å¤¹å’Œæ ‡å¿—æ–‡ä»¶éƒ½å¯ä»¥æ˜¯çº¯æ–‡æœ¬æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
</blockquote>
<p>æ ‡å¿—æ–‡ä»¶ç”¨äºè¿‡æ»¤æ‰åªåŒ¹é…åç§°ä½†ä¸åŒ¹é…é¡¹ç›®çš„æ–‡ä»¶å¤¹ã€‚</p>
<p>ä¾‹å¦‚ã€‚ è¯¥ç›®å½•åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code>.
â”œâ”€â”€ misc-proj
â”‚   â””â”€â”€ target
â””â”€â”€ rust-proj
    â”œâ”€â”€ Cargo.toml
    â””â”€â”€ target
</code></pre>
<p>è§„åˆ™ <code>target</code> åŒ¹é…äº†æ‰€æœ‰ <code>target</code> æ–‡ä»¶å¤¹</p>
<pre><code>$ projclean -t -r target
/tmp/demo/rust-proj/target
/tmp/demo/misc-proj/target
</code></pre>
<p>è§„åˆ™ <code>target@Cargo.toml</code> ä»…åŒ¹é…å±äº rust é¡¹ç›®ä¸‹ <code>target</code> æ–‡ä»¶å¤¹</p>
<pre><code>$ projclean -t -r target@Cargo.toml
/tmp/demo/rust-proj/target
</code></pre>
<h2 id="é¡¹ç›®"><a class="header" href="#é¡¹ç›®">é¡¹ç›®</a></h2>
<p>å¸¸ç”¨é¡¹ç›®çš„å¸¸ç”¨æœç´¢è§„åˆ™ï¼š</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">name</th><th style="text-align: left">command</th></tr></thead><tbody>
<tr><td style="text-align: left">js</td><td style="text-align: left"><code>-r node_modules</code></td></tr>
<tr><td style="text-align: left">rs</td><td style="text-align: left"><code>-r target@Cargo.toml</code></td></tr>
<tr><td style="text-align: left">vs</td><td style="text-align: left"><code>-r '^(Debug\|Release)$@\.sln$'</code></td></tr>
<tr><td style="text-align: left">ios</td><td style="text-align: left"><code>-r '^(build\|xcuserdata\|DerivedData)$@Podfile'</code></td></tr>
<tr><td style="text-align: left">android</td><td style="text-align: left"><code>-r build@build.gradle</code></td></tr>
<tr><td style="text-align: left">java</td><td style="text-align: left"><code>-r target@pom.xml</code></td></tr>
<tr><td style="text-align: left">php</td><td style="text-align: left"><code>-r vendor@composer.json</code></td></tr>
</tbody></table>
</div>
<h2 id="å…¶ä»–-3"><a class="header" href="#å…¶ä»–-3">å…¶ä»–</a></h2>
<p><a href="https://github.com/sigoden/projclean">https://github.com/sigoden/projclean</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tomato-timer-å‘½ä»¤è¡Œç‰ˆç•ªèŒ„é’Ÿ"><a class="header" href="#tomato-timer-å‘½ä»¤è¡Œç‰ˆç•ªèŒ„é’Ÿ">Tomato-Timer: å‘½ä»¤è¡Œç‰ˆç•ªèŒ„é’Ÿ</a></h1>
<p>Tomato Timer æ˜¯ä¸€æ¬¾å¸¦æ¡Œé¢é€šçŸ¥çš„ç•ªèŒ„é’Ÿå‘½ä»¤è¡Œå·¥å…·ã€‚</p>
<p><img src="https://user-images.githubusercontent.com/4012553/157780925-d363ec0a-cb2c-41bf-bd13-11ee91602f9f.gif" alt="screenshot" /></p>
<h2 id="ä½¿ç”¨"><a class="header" href="#ä½¿ç”¨">ä½¿ç”¨</a></h2>
<p>å·¥ä½œ25åˆ†é’Ÿï¼Œä¼‘æ¯5åˆ†é’Ÿ</p>
<pre><code>tomato-timer
</code></pre>
<p>å·¥ä½œ45åˆ†é’Ÿï¼Œä¼‘æ¯10åˆ†é’Ÿ</p>
<pre><code>tomato-timer -w 45 -b 10
</code></pre>
<p><a href="https://github.com/sigoden/tomato-timer">https://github.com/sigoden/tomato-timer</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows-switcher-ç±»ä¼¼-macos-çš„çª—å£åˆ‡æ¢å™¨"><a class="header" href="#windows-switcher-ç±»ä¼¼-macos-çš„çª—å£åˆ‡æ¢å™¨">Windows-Switcher: ç±»ä¼¼ MacOS çš„çª—å£åˆ‡æ¢å™¨</a></h1>
<p>ç”¨ alt+` åœ¨åŒä¸€åº”ç”¨ç¨‹åºçš„ä¸åŒçª—å£ä¹‹é—´åˆ‡æ¢ã€‚</p>
<p><img src="https://user-images.githubusercontent.com/4012553/221805510-ee6a4f2e-e527-4f63-b4a0-080a447d176d.gif" alt="switch-windows" /></p>
<p>ä½¿ç”¨ alt+tab åˆ‡æ¢æ‰“å¼€çš„åº”ç”¨ç¨‹åº</p>
<p><img src="https://user-images.githubusercontent.com/4012553/221538853-b4793205-23a6-4a27-9f3c-4ff519cd6650.gif" alt="switch-apps" /></p>
<h2 id="åº”ç”¨ç‰¹æ€§"><a class="header" href="#åº”ç”¨ç‰¹æ€§">åº”ç”¨ç‰¹æ€§</a></h2>
<ul>
<li>350kå•æ–‡ä»¶åº”ç”¨ï¼Œæ— éœ€å®‰è£…å³å¯è¿è¡Œã€‚</li>
<li>æ”¯æŒè‡ªå®šä¹‰å¿«æ·é”®ã€‚</li>
<li>æ”¯æŒé»‘åå•åº”ç”¨ä»¥é¿å…çƒ­é”®è¦†ç›–ã€‚</li>
<li>ä½¿ç”¨æ‰˜ç›˜èœå•è½»æ¾è®¾ç½®å¯åŠ¨æ—¶è¿è¡Œã€‚</li>
</ul>
<p>é¡¹ç›®ä»“åº“: <a href="https://github.com/sigoden/windows-switcher">github.com/sigoden/windows-switcher</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="xf-å¤šæ€å‘½ä»¤è‡ªåŠ¨è„šæœ¬åˆ«å"><a class="header" href="#xf-å¤šæ€å‘½ä»¤è‡ªåŠ¨è„šæœ¬åˆ«å">Xf: å¤šæ€å‘½ä»¤ï¼Œè‡ªåŠ¨è„šæœ¬åˆ«å</a></h1>
<p>Xf æ˜¯ä¸€æ¬¾å¤šæ€å‘½ä»¤ï¼Œè‡ªåŠ¨è„šæœ¬åˆ«åçš„å‘½ä»¤è¡Œå·¥å…·ã€‚</p>
<p>Xf ä¼šä»å½“å‰ç›®å½•å¾€ä¸Šå¯»æ‰¾ç›®æ ‡æ–‡ä»¶ï¼Œæ ¹æ®æ‰¾åˆ°çš„ä¸åŒæ–‡ä»¶æ‰§è¡Œä¸åŒçš„å‘½ä»¤ã€‚</p>
<h2 id="ä»‹ç»"><a class="header" href="#ä»‹ç»">ä»‹ç»</a></h2>
<p>Xf è¯»å–é…ç½®æ–‡ä»¶åŠ è½½è§„åˆ™ã€‚</p>
<blockquote>
<p>é…ç½®æ–‡ä»¶é»˜è®¤ä½ç½®æ˜¯ <code>$HOME/.xf</code>ï¼Œå¯ä»¥è®¾ç½® <code>XF_CONFIG_PATH</code> ç¯å¢ƒå˜é‡æŒ‡å®šå…¶ä»–ä½ç½®</p>
</blockquote>
<p>è§„åˆ™æ ¼å¼ä¸º:</p>
<pre><code>&lt;æ–‡ä»¶&gt;: &lt;å‘½ä»¤&gt;
</code></pre>
<p><code>xf</code> å°è¯•æŸ¥æ‰¾ <code>&lt;æ–‡ä»¶&gt;</code>ï¼Œæ‰¾åˆ°åè¯¥æ‰§è¡Œ <code>&lt;å‘½ä»¤&gt;</code>ã€‚</p>
<blockquote>
<p><code>xf</code> å†…ç½®ä¸€æ¡ä¼˜å…ˆçº§æœ€ä½è§„åˆ™: <code>Xfile: $file $@</code></p>
</blockquote>
<p>é…ç½®å¦‚ä¸‹è§„åˆ™ï¼š</p>
<pre><code>Taskfile: bash $file $@
</code></pre>
<p>æ‰§è¡Œ <code>xf foo</code>ã€‚</p>
<p>é¦–å…ˆï¼Œxfä¼šåœ¨å½“å‰ç›®å½•æŸ¥æ‰¾ <code>Taskfile</code> æ–‡ä»¶ï¼Œå¦‚æœæ‰¾åˆ°åˆ™æ‰§è¡Œ <code>bash $file foo</code>.</p>
<p>å¦‚æœæœªæ‰¾åˆ°ï¼Œåˆ™åœ¨å½“å‰ç›®å½•ç»§ç»­å¯»æ‰¾ <code>Xfile</code> æ–‡ä»¶ ï¼Œå¦‚æœæ‰¾åˆ°åˆ™æ‰§è¡Œ <code>Xfile foo</code> (å†…ç½®è§„åˆ™).</p>
<p>å¦‚æœéƒ½æœªæ‰¾åˆ°ï¼Œåˆ™è¿›å…¥ä¸Šå±‚ç›®å½•ç»§ç»­è¿™ä¸ªæµç¨‹ã€‚</p>
<p>æ–‡ä»¶åŒ¹é…è§„åˆ™:</p>
<ol>
<li>
<p>å¿½ç•¥å¤§å°å†™ã€‚<code>Xfile</code> èƒ½åŒ¹é…æ–‡ä»¶ <code>xfile</code>ï¼Œ <code>xFile</code>ã€‚</p>
</li>
<li>
<p>æŸ¥æ‰¾æ–‡ä»¶ååŒ…å«è§„åˆ™æ–‡ä»¶åã€‚<code>Xfile</code> èƒ½åŒ¹é…æ–‡ä»¶ <code>Xfile.sh</code>ï¼Œ<code>Xfile.cmd</code>ã€‚</p>
</li>
</ol>
<h2 id="å˜é‡"><a class="header" href="#å˜é‡">å˜é‡</a></h2>
<p>è§„åˆ™å‘½ä»¤ä¸­å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å†…ç½®å˜é‡ </p>
<ul>
<li><code>$@</code> - é€ä¼ å‘½ä»¤è¡Œå‚æ•°</li>
<li><code>$file</code> - æ–‡ä»¶è·¯å¾„</li>
<li><code>$fileDir</code> - æ–‡ä»¶ç›®å½•ï¼Œå‘½ä»¤åœ¨æ–‡ä»¶ç›®å½•ä¸­æ‰§è¡Œ</li>
<li><code>$currentDir</code> - å½“å‰ç›®å½•</li>
</ul>
<p>è¿™äº›å˜é‡(<code>$@</code>é™¤å¤–)ä¹Ÿä¼šåŒæ­¥åˆ°ç¯å¢ƒå˜é‡:</p>
<ul>
<li><code>$file</code> =&gt; <code>$XF_FILE</code></li>
<li><code>$fileDir</code> =&gt; <code>$XF_FILE_DIR</code></li>
<li><code>$currentDir</code> =&gt; <code>$XF_CURRENT_DIR</code></li>
</ul>
<h2 id="å‘½ä»¤å"><a class="header" href="#å‘½ä»¤å">å‘½ä»¤å</a></h2>
<p>å®é™…ä¸Šï¼Œå‘½ä»¤åç§°ä¼šå½±å“å†…ç½®è§„åˆ™å’Œç¯å¢ƒå˜é‡å‰ç¼€ã€‚</p>
<p>å¦‚æœå°†å¯æ‰§è¡Œæ–‡ä»¶ <code>xf</code> é‡å‘½åä¸º <code>task</code></p>
<ol>
<li>
<p>å†…ç½®è§„åˆ™å°†æ˜¯ <code>Taskfile: $file $@</code></p>
</li>
<li>
<p>é»˜è®¤çš„é…ç½®æ–‡ä»¶è·¯å¾„å°†å˜æˆ <code>$HOME/.task</code>ã€‚</p>
</li>
<li>
<p>ç¯å¢ƒå˜é‡ <code>XF_CONFIG_PATH</code> å˜æˆ <code>TASK_CONFIG_PATH</code>ã€‚</p>
</li>
<li>
<p><code>$file</code> å¯¹åº”ç¯å¢ƒå˜é‡å°†å˜æˆ <code>TASK_FILE</code>ã€‚</p>
</li>
</ol>
<h2 id="å…¶ä»–-4"><a class="header" href="#å…¶ä»–-4">å…¶ä»–</a></h2>
<p><a href="https://github.com/sigoden/xf">https://github.com/sigoden/xf</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
